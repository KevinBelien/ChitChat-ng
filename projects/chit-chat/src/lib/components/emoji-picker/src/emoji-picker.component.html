<div class="ch-emoji-picker">
	<div class="ch-emoji-header-container">
		<div class="ch-searchbar-container">
			<div class="ch-searchbar">
				<ch-text-box
					mode="search"
					variant="filled"
					[autofocus]="true"
					[placeholder]="'emojipicker.search' | translate"
					valueChangeEvent="input"
					[showClearButton]="true"
					[value]="searchValue()"
					(onValueChanged)="handleSearchValueChanged($event)"
				></ch-text-box>
			</div>
		</div>

		@if (!!isGlobalSkintoneEnabled()) {
		<ch-skintone-picker
			[selectedSkintone]="globalSkintone()"
			[size]="20"
			(onSelectionChanged)="handleGlobalSkintoneChanged($event)"
		></ch-skintone-picker>
		}
	</div>

	@if ({data: filteredEmojis()}; as filteredEmojis) {
	@if(!filteredEmojis.data || (!filteredEmojis.data.filterActive ||
	filteredEmojis.data.emojis.length > 0)){ @if(!filteredEmojis.data ||
	!filteredEmojis.data.filterActive){
	<div
		class="emoji-tab-bar"
		[ngClass]="{
			'bar-bottom': categoryBarPosition() === 'bottom'
		}"
	>
		<ch-emoji-tabs
			[emojiCategories]="emojiCategories()"
			[selectedTab]="selectedCategory()"
			(onTabClicked)="handleCategoryTabClicked($event)"
		></ch-emoji-tabs>
	</div>
	}
	<div class="ch-emoji-picker-container">
		@if(orientation() === 'vertical'){
		<ch-vertical-emoji-picker
			[height]="height"
			[width]="width"
			[emojis]="emojis().defaultEmojis"
			[suggestionEmojis]="emojis().suggestionEmojis"
			[filteredEmojis]="emojis().filteredEmojis"
			[showSkintoneIndicator]="isIndividualSkintoneEnabled()"
			[emojiSize]="emojiSize()"
			[(currentCategory)]="selectedCategory"
			[scrollbarVisible]="scrollbarVisible()"
			[emojiCategories]="emojiCategories()"
			(onClick)="handleEmojiClick($event)"
			(onScroll)="handleScroll()"
			(onTouchHold)="handleEmojiTouchHold($event)"
			(onEmojiSizeCalculated)="handleEmojiSizeCalculated($event)"
		></ch-vertical-emoji-picker>
		}@else {
		<ch-horizontal-emoji-picker></ch-horizontal-emoji-picker>
		}
	</div>
	} @else {
	<div class="ch-no-data-container">
		<div class="ch-no-data-emoji">{{ noDataEmoji() }}</div>
		<div class="ch-no-data-text">No results</div>
	</div>
	} }
</div>
